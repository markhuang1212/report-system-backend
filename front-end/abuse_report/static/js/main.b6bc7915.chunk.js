(this["webpackJsonpreport-abuse"]=this["webpackJsonpreport-abuse"]||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"i18n":{"en":{"translation":{"category":"Abusive Content Category","report abuse":"Report Abusive Content","abuse description":"Abusive Content Description","select photos":"select photos","selected":"photos selected.","reselect":"reselect","screenshots":"Screenshots (optional)","your name":"Your Name","contact info":"Contact Information (optional)","email":"Email","phone":"Mobile Number","submit":"Submit","abuse detail":"Briefly describe the content of the abusive content. Attach screenshots below if possible.","thank you":"Thanks for your report.","submitting":"Submitting... Please wait","submitted":"Content Reported.","error":"An error occurred when submitting. Please check your connection.","product name":"","product name abbr":"","false information":"False Information","pornographic content":"Pornographic Content","promote violence":"Promote Violence","other content":"Other Illegal Content"}},"zh-CN":{"translation":{"category":"\u8fdd\u89c4\u5185\u5bb9\u7c7b\u522b","report abuse":"\u4e3e\u62a5\u8fdd\u89c4\u5185\u5bb9","abuse description":"\u8fdd\u89c4\u5185\u5bb9\u63cf\u8ff0","select photos":"\u9009\u62e9\u4e00\u5f20\u6216\u591a\u5f20\u7167\u7247","selected":"\u5df2\u9009\u62e9\u3002","reselect":"\u91cd\u65b0\u9009\u62e9","screenshots":"\u8fdd\u89c4\u5185\u5bb9\u622a\u56fe\uff08\u53ef\u9009\uff09","your name":"\u59d3\u540d/\u79f0\u547c","contact info":"\u8054\u7cfb\u65b9\u5f0f\uff08\u9009\u586b\uff09","email":"\u7535\u5b50\u90ae\u7bb1/Email","phone":"\u624b\u673a","submit":"\u63d0\u4ea4","abuse detail":"\u7b80\u8981\u63cf\u8ff0\u4e3e\u62a5\u5185\u5bb9\u3002\u5982\u679c\u53ef\u80fd\uff0c\u8bf7\u5728\u4e0b\u9762\u9644\u4e0a\u622a\u56fe\u3002","thank you":"\u8c22\u8c22\u60a8\u7684\u53cd\u9988\u3002","submitting":"\u6b63\u5728\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e","submitted":"\u63d0\u4ea4\u6210\u529f","error":"\u63d0\u4ea4\u65f6\u53d1\u9001\u9519\u8bef\u3002\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u8fde\u63a5\u3002","product name":"","product name abbr":"","false information":"\u9519\u8bef/\u865a\u5047\u4fe1\u606f","pornographic content":"\u8272\u60c5\u5185\u5bb9","promote violence":"\u5ba3\u4f20\u66b4\u529b","other content":"\u5176\u4ed6\u975e\u6cd5\u5185\u5bb9"}},"zh-HK":{"translation":{"category":"\u9055\u898f\u5167\u5bb9\u985e\u5225","report abuse":"\u8209\u5831\u9055\u898f\u5167\u5bb9","abuse description":"\u9055\u898f\u5167\u5bb9\u7c21\u8ff0","select photos":"\u9078\u64c7\u4e00\u5f35\u6216\u66f4\u591a\u622a\u5716","selected":"\u5df2\u9078\u64c7\u3002","reselect":"\u91cd\u65b0\u9078\u64c7","screenshots":"\u9055\u898f\u5167\u5bb9\u622a\u5716\uff08\u53ef\u9078\uff09","your name":"\u59d3\u540d/\u7a31\u547c","contact info":"\u806f\u7e6b\u65b9\u5f0f\uff08\u9078\u586b\uff09","email":"Email","phone":"\u624b\u6a5f","submit":"\u63d0\u4ea4","abuse detail":"\u63cf\u8ff0\u8209\u5831\u5167\u5bb9\u3002\u5982\u679c\u53ef\u80fd\uff0c\u8acb\u5728\u4e0b\u9762\u9644\u4e0a\u622a\u5716\u3002","thank you":"\u591a\u8b1d\u53cd\u994b\u3002","submitting":"\u6b63\u5728\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e","submitted":"\u63d0\u4ea4\u6210\u529f\u3002","error":"\u63d0\u4ea4\u6642\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u6aa2\u67e5\u7db2\u8def\u9023\u7d50","product name":"","product name abbr":"","false information":"\u932f\u8aa4/\u865b\u5047\u4fe1\u606f","pornographic content":"\u8272\u60c5\u5167\u5bb9","promote violence":"\u5ba3\u50b3\u66b4\u529b","other content":"\u5176\u4ed6\u975e\u6cd5\u5167\u5bb9"}},"zh-TW":{"translation":{"category":"\u9055\u898f\u5167\u5bb9\u985e\u5225","report abuse":"\u8209\u5831\u9055\u898f\u5167\u5bb9","abuse description":"\u9055\u898f\u5167\u5bb9\u7c21\u8ff0","select photos":"\u9078\u64c7\u4e00\u5f35\u6216\u66f4\u591a\u622a\u5716","selected":"\u5df2\u9078\u64c7\u3002","reselect":"\u91cd\u65b0\u9078\u64c7","screenshots":"\u9055\u898f\u5167\u5bb9\u622a\u5716\uff08\u53ef\u9078\uff09","your name":"\u59d3\u540d/\u7a31\u547c","contact info":"\u806f\u7e6b\u65b9\u5f0f\uff08\u9078\u586b\uff09","email":"Email","phone":"\u624b\u6a5f","submit":"\u63d0\u4ea4","abuse detail":"\u63cf\u8ff0\u8209\u5831\u5167\u5bb9\u3002\u5982\u679c\u53ef\u80fd\uff0c\u8acb\u5728\u4e0b\u9762\u9644\u4e0a\u622a\u5716\u3002","thank you":"\u591a\u8b1d\u53cd\u994b\u3002","submitting":"\u6b63\u5728\u63d0\u4ea4\uff0c\u8bf7\u7a0d\u540e","submitted":"\u63d0\u4ea4\u6210\u529f\u3002","error":"\u63d0\u4ea4\u6642\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u6aa2\u67e5\u7db2\u8def\u9023\u7d50","product name":"","product name abbr":"","false information":"\u932f\u8aa4/\u865b\u5047\u4fe1\u606f","pornographic content":"\u8272\u60c5\u5167\u5bb9","promote violence":"\u5ba3\u50b3\u66b4\u529b","other content":"\u5176\u4ed6\u975e\u6cd5\u5167\u5bb9"}}}}')},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n(0),a=n.n(c),r=n(24),s=n.n(r),i=(n(38),n(14)),u=n(25),l=n(15),b=n(26);i.a.use(l.e).use(u.a).init({resources:b.i18n,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});i.a,n(39);var h=n(20),d=n(2),p=n(8),j=n.n(p),f=n(11),m=n(10),O=(n(41),n(23)),v=n(29),g=n(30),x=(n(42),window.location.protocol),k=window.location.hostname,y=function(){var e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e||e.includes("192.168")}()?3001:window.location.port,_="".concat(x,"//").concat(k,":").concat(y,"/abuse_report"),w=function(){function e(){var t=this;Object(v.a)(this,e),this.feedback_id=void 0,this.job_queue_length=0,this.getFeedbackId().then((function(e){t.feedback_id=e}))}return Object(g.a)(e,[{key:"resetHandler",value:function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.job_queue_length=0,e.next=3,this.getFeedbackId();case 3:this.feedback_id=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeedbackId",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat(_,"/feedback_id"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data.feedback_id);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadFeedbackScreenshot",value:function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.job_queue_length++,console.log("job queue length: ".concat(this.job_queue_length)),e.next=4,window.fetch("".concat(_,"/screenshot"),{method:"POST",headers:{feedback_id:this.feedback_id,screenshot_name:t.name},body:t});case 4:this.job_queue_length--,console.log("job queue length: ".concat(this.job_queue_length));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFeedback",value:function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.job_queue_length++,console.log("job queue length: ".concat(this.job_queue_length)),e.next=4,window.fetch("".concat(_,"/feedback"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(O.a)(Object(O.a)({},t),{},{feedback_id:this.feedback_id}))});case 4:this.job_queue_length--,console.log("job queue length: ".concat(this.job_queue_length));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();w.shared=new w;var C=w,F=n(58);var S=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(m.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)(""),b=Object(m.a)(l,2),h=b[0],p=b[1],O=Object(c.useState)("false information"),v=Object(m.a)(O,2),g=v[0],x=v[1],k=Object(c.useState)(""),y=Object(m.a)(k,2),_=y[0],w=y[1],S=Object(c.useState)(!1),A=Object(m.a)(S,2),N=A[0],q=A[1],T=Object(d.f)(),I=Object(c.useRef)(null),E=Object(F.a)().t,B=function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C.shared.uploadFeedback({feedback_email:h,feedback_name:n,feedback_description:_,feedback_phone:i,feedback_category:g});case 4:T.push("/thanks"),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error when submitting feedback"),console.error(e.t0),window.alert(E("error")),C.shared.resetHandler();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"AppContent",children:[Object(o.jsx)("input",{style:{display:"none"},type:"file",accept:"image/*",onChange:function(e){if(e.target.files){q(!0);for(var t=0;t<e.target.files.length;t++)C.shared.uploadFeedbackScreenshot(e.target.files[t]).catch((function(e){console.error("Error when uploading screenshot."),console.error(e)}))}},multiple:!0,ref:I}),Object(o.jsx)("div",{className:"AppContentFormContainer",children:Object(o.jsxs)("form",{className:"AppContentForm",children:[Object(o.jsxs)("div",{className:"AppContentFormTextField",children:[Object(o.jsx)("label",{children:E("category")}),Object(o.jsxs)("select",{onChange:function(e){x(e.currentTarget.value)},value:g,children:[Object(o.jsx)("option",{value:"false information",children:E("false information")}),Object(o.jsx)("option",{value:"pornographic",children:E("pornographic content")}),Object(o.jsx)("option",{value:"violence",children:E("promote violence")}),Object(o.jsx)("option",{value:"other",children:E("other content")})]})]}),Object(o.jsxs)("div",{className:"AppContentFormBugDescriptionField",children:[Object(o.jsx)("label",{children:E("abuse description")}),Object(o.jsx)("textarea",{placeholder:E("abuse detail"),onChange:function(e){w(e.target.value)},value:_})]}),Object(o.jsxs)("div",{className:"AppContentFormSelectFileField",children:[Object(o.jsxs)("label",{children:[E("screenshots"),":"]}),Object(o.jsx)("span",{children:N?E("selected"):""}),Object(o.jsx)("button",{onClick:function(e){e.preventDefault(),I.current.click()},children:E(N?"reselect":"select photos")})]}),Object(o.jsx)("div",{style:{color:"gray",fontWeight:500},children:E("contact info")}),Object(o.jsxs)("div",{className:"AppContentFormTextField",children:[Object(o.jsxs)("label",{children:[E("your name"),":"]}),Object(o.jsx)("input",{type:"name",onChange:function(e){a(e.target.value)},value:n})]}),Object(o.jsxs)("div",{className:"AppContentFormTextField",children:[Object(o.jsxs)("label",{children:[E("email"),":"]}),Object(o.jsx)("input",{type:"email",onChange:function(e){p(e.target.value)},value:h})]}),Object(o.jsxs)("div",{className:"AppContentFormTextField",children:[Object(o.jsxs)("label",{children:[E("phone"),":"]}),Object(o.jsx)("input",{type:"phone",onChange:function(e){u(e.target.value)},value:i})]}),Object(o.jsx)("button",{className:"AppContentFormSubmitButton",onClick:B,children:E("submit")}),Object(o.jsx)("div",{className:"AppContentBottomBarText",children:E("product name")})]})})]})};n(56);var A=function(){var e=Object(F.a)().t;return Object(o.jsx)("div",{className:"AppHeader",children:e("report abuse")})};var N=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(A,{}),Object(o.jsx)(S,{})]})};var q=function(){var e=Object(F.a)().t,t=Object(c.useState)(0!==C.shared.job_queue_length),n=Object(m.a)(t,2),a=n[0],r=n[1];return setInterval((function(){0===C.shared.job_queue_length&&!0===a&&r(!1),C.shared.job_queue_length>=1&&!1===a&&r(!0)}),200),Object(o.jsxs)("div",{children:[Object(o.jsx)(A,{}),Object(o.jsxs)("div",{style:{marginTop:"240px",fontSize:"28px"},children:[e("thank you"),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontSize:"16px",color:"gray"},children:e(a?"submitting":"submitted")})]})]})};var T=function(){return Object(o.jsx)(h.a,{basename:"/abuse_report",children:Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(d.c,{children:[Object(o.jsx)(d.a,{path:"/thanks",children:Object(o.jsx)(q,{})}),Object(o.jsx)(d.a,{path:"/",children:Object(o.jsx)(N,{})})]})})})};document.title=i.a.t("report abuse"),s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b6bc7915.chunk.js.map